package com.yishan.javaplus.config;import com.amazonaws.auth.DefaultAWSCredentialsProviderChain;import com.amazonaws.services.s3.AmazonS3;import com.amazonaws.services.sqs.AmazonSQS;import com.amazonaws.services.sqs.AmazonSQSClientBuilder;import com.yishan.javaplus.service.StorageService;import com.yishan.javaplus.service.jms.MessageSQSService;import org.mockito.Mockito;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.context.annotation.Profile;import java.io.IOException;@Configurationpublic class MockConfig {    @Bean    @Profile("unit")    public StorageService getStorageService(@Autowired AmazonS3 s3Client) throws IOException {        StorageService storageService = new StorageService(s3Client);        storageService.setBucket("unit_test");        return storageService;    }    @Bean    @Profile("unit")    public MessageSQSService getMessageSQSService() throws IOException{        AmazonSQS sqs = AmazonSQSClientBuilder.standard().withCredentials(new DefaultAWSCredentialsProviderChain()).build();        MessageSQSService messageSQSService = new MessageSQSService(sqs, "javaplus-unit");        messageSQSService.sendMessageRequest("https://sqs.us-east-1.amazonaws.com/930617370896/javaplus-unit");        messageSQSService.receiveMessageRequest();        return messageSQSService;    }    @Bean    public AmazonS3 getAmazonS3Client(){        AmazonS3 s3Client = Mockito.mock(AmazonS3.class);        return s3Client;    }}